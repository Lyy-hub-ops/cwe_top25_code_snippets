static goffset
_g_file_get_size (GFile        *file,
		  GCancellable *cancellable)
{
	GFileInfo *info;
	goffset    size;

	info = g_file_query_info (file,
				  G_FILE_ATTRIBUTE_STANDARD_SIZE,
				  G_FILE_QUERY_INFO_NONE,
				  cancellable,
				  NULL);
	if (info == NULL)
		return 0;

	size = g_file_info_get_size (info);
	g_object_unref (info);

	return size;
}