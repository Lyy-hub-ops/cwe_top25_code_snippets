void set_static_file_info(std::string path)
        {
            path = utility::sanitize_filename(path); //TODO create a no_copy function instead
            file_info.path = path;
            file_info.statResult = stat(file_info.path.c_str(), &file_info.statbuf);
#ifdef CROW_ENABLE_COMPRESSION
            compressed = false;
#endif
            if (file_info.statResult == 0)
            {
                std::size_t last_dot = path.find_last_of(".");
                std::string extension = path.substr(last_dot + 1);
                std::string mimeType = "";
                code = 200;
                this->add_header("Content-length", std::to_string(file_info.statbuf.st_size));

                if (extension != "")
                {
                    mimeType = mime_types.at(extension);
                    if (mimeType != "")
                        this->add_header("Content-Type", mimeType);
                    else
                        this->add_header("content-Type", "text/plain");
                }
            }
            else
            {
                code = 404;
                this->end();
            }
        }